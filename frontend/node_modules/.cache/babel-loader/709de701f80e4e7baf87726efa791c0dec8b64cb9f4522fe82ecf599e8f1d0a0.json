{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\METHILAN.R\\\\Downloads\\\\food donor\\\\frontend\\\\src\\\\modules\\\\signup\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, Stack, TextField } from '@mui/material';\nimport React, { useContext, useState } from 'react';\nimport Heading2 from '../../shared/page/Heading2';\nimport { AppContext } from '../../context/AppContext';\nimport UserApi from '../../api/UserApi';\nimport useHandleError from '../../hooks/useHandleError';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst onlyNumberRegex = new RegExp('^[0-9]+$');\nconst SignUpScreen = () => {\n  _s();\n  const {\n    updateAuth,\n    navigate\n  } = useContext(AppContext);\n  const [data, setData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const handleError = useHandleError();\n  const handleChange = event => {\n    const {\n      target: {\n        name,\n        value\n      }\n    } = event;\n    if (name === 'phone') {\n      if (value.length > 10 || value && !onlyNumberRegex.test(value)) return;\n    }\n    setData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const onSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      await UserApi.createUserAsync(data);\n      const authResponse = await UserApi.loginAsync({\n        email: data.email,\n        password: data.password\n      });\n      updateAuth(authResponse);\n    } catch (error) {\n      handleError(error);\n    }\n    setLoading(false);\n  };\n  const disableButton = data.password !== data.confirmPassword || loading;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    mx: \"auto\",\n    maxWidth: \"md\",\n    boxShadow: 2,\n    p: 2,\n    children: [/*#__PURE__*/_jsxDEV(Heading2, {\n      title: \"SignUp\",\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        mt: 2,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"name\",\n          label: \"Name\",\n          size: \"small\",\n          type: \"text\",\n          required: true,\n          value: data.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"email\",\n          label: \"Email\",\n          size: \"small\",\n          type: \"email\",\n          required: true,\n          value: data.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"phone\",\n          label: \"Phone\",\n          size: \"small\",\n          type: \"text\",\n          required: true,\n          value: data.phone,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"password\",\n          label: \"Password\",\n          size: \"small\",\n          type: \"password\",\n          required: true,\n          value: data.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          error: data.password !== data.confirmPassword,\n          name: \"confirmPassword\",\n          label: \"Confirm Password\",\n          size: \"small\",\n          type: \"password\",\n          required: true,\n          value: data.confirmPassword,\n          onChange: handleChange,\n          helperText: data.password !== data.confirmPassword ? \"Password not matched\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: disableButton,\n          variant: \"contained\",\n          type: \"submit\",\n          children: \"SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(SignUpScreen, \"b8dbLCOB1uggqdXVUrA+6mJ90rY=\", false, function () {\n  return [useHandleError];\n});\n_c = SignUpScreen;\nexport default SignUpScreen;\nvar _c;\n$RefreshReg$(_c, \"SignUpScreen\");","map":{"version":3,"names":["Box","Button","Stack","TextField","React","useContext","useState","Heading2","AppContext","UserApi","useHandleError","jsxDEV","_jsxDEV","onlyNumberRegex","RegExp","SignUpScreen","_s","updateAuth","navigate","data","setData","name","email","phone","password","confirmPassword","loading","setLoading","handleError","handleChange","event","target","value","length","test","prev","onSubmit","e","preventDefault","createUserAsync","authResponse","loginAsync","error","disableButton","mx","maxWidth","boxShadow","p","children","title","fileName","_jsxFileName","lineNumber","columnNumber","mt","spacing","label","size","type","required","onChange","helperText","disabled","variant","_c","$RefreshReg$"],"sources":["C:/Users/METHILAN.R/Downloads/food donor/frontend/src/modules/signup/index.jsx"],"sourcesContent":["import { Box, Button, Stack, TextField } from '@mui/material'\r\nimport React, { useContext, useState } from 'react'\r\nimport Heading2 from '../../shared/page/Heading2'\r\nimport { AppContext } from '../../context/AppContext'\r\nimport UserApi from '../../api/UserApi'\r\nimport useHandleError from '../../hooks/useHandleError'\r\n\r\nconst onlyNumberRegex = new RegExp('^[0-9]+$');\r\n\r\nconst SignUpScreen = () => {\r\n  const {updateAuth, navigate} = useContext(AppContext);\r\n  const [data, setData] = useState({\r\n    name:\"\",\r\n    email:\"\",\r\n    phone:\"\",\r\n    password:\"\",\r\n    confirmPassword:\"\"\r\n  })\r\n  const [loading, setLoading] = useState(false);\r\n  const handleError = useHandleError();\r\n  const handleChange = (event) => {\r\n    const {target: {name, value} } = event;\r\n    if(name === 'phone'){\r\n      if(value.length > 10 || (value && !onlyNumberRegex.test(value))) return \r\n    }\r\n    setData(prev => ({\r\n      ...prev,\r\n      [name]:value\r\n    }))\r\n  }\r\n\r\n  const onSubmit = async(e) => {\r\n    e.preventDefault();\r\n    setLoading(true)\r\n    try{\r\n      await UserApi.createUserAsync(data);\r\n      const authResponse = await UserApi.loginAsync({\r\n        email:data.email,\r\n        password:data.password\r\n      })\r\n      updateAuth(authResponse);\r\n    }catch(error){\r\n      handleError(error);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  const disableButton = (data.password !== data.confirmPassword) || loading\r\n\r\n  return (\r\n    <Box mx=\"auto\" maxWidth=\"md\" boxShadow={2} p={2} >\r\n      <Heading2 title={\"SignUp\"} loading={loading} />\r\n      <form onSubmit={onSubmit}>\r\n        <Stack mt={2} spacing={2}>\r\n          <TextField \r\n            name=\"name\"\r\n            label=\"Name\"\r\n            size=\"small\"  \r\n            type='text'\r\n            required={true}\r\n            value={data.name}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField \r\n            name=\"email\"\r\n            label=\"Email\"\r\n            size=\"small\"  \r\n            type='email'\r\n            required={true}\r\n            value={data.email}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField \r\n            name=\"phone\"\r\n            label=\"Phone\"\r\n            size=\"small\"  \r\n            type='text'\r\n            required={true}\r\n            value={data.phone}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField \r\n            name=\"password\"\r\n            label=\"Password\"\r\n            size=\"small\"  \r\n            type='password'\r\n            required={true}\r\n            value={data.password}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField \r\n            error={data.password !== data.confirmPassword}\r\n            name=\"confirmPassword\"\r\n            label=\"Confirm Password\"\r\n            size=\"small\"  \r\n            type='password'\r\n            required={true}\r\n            value={data.confirmPassword}\r\n            onChange={handleChange}\r\n            helperText={data.password !== data.confirmPassword ? \"Password not matched\":\"\"}\r\n          />\r\n          <Button disabled={disableButton} variant='contained' type=\"submit\">SignUp</Button>\r\n        </Stack>\r\n      </form>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default SignUpScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}